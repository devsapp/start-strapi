(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[5538],{95423:(b,E,t)=>{var e={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./eu.json":[38153,8360],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function i(n){if(!t.o(e,n))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+n+"'");throw g.code="MODULE_NOT_FOUND",g});var f=e[n],m=f[0];return t.e(f[1]).then(()=>t.t(m,19))}i.keys=()=>Object.keys(e),i.id=95423,b.exports=i},42243:(b,E,t)=>{"use strict";t.d(E,{Z:()=>ot});var e=t(53209),i=t(95489),n=t(67294),f=t(97132),m=t(45697),g=t.n(m),d=t(28702),I=t(80831),R=t(36206),W=t(79690);const T=({onSubmit:K,schema:Ze})=>{const{formatMessage:_}=(0,f.useIntl)();return n.createElement(R.ZP,null,n.createElement(d.Main,null,n.createElement(R.bU,null,n.createElement(I.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:K,validationSchema:Ze,validateOnChange:!1},({values:Ge,errors:Ce,handleChange:Ke})=>n.createElement(i.Form,{noValidate:!0},n.createElement(R.sg,null,n.createElement(W.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},_({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),Ce.errorMessage&&n.createElement(d.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},_({id:Ce.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(d.Stack,{spacing:6},n.createElement(d.TextInput,{error:Ce.email?_({id:Ce.email,defaultMessage:"This email is invalid."}):"",value:Ge.email,onChange:Ke,label:_({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:_({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),n.createElement(d.Button,{type:"submit",fullWidth:!0},_({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},_({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};T.defaultProps={onSubmit:K=>K.preventDefault()},T.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const x=T,v=()=>{const{formatMessage:K}=(0,f.useIntl)();return n.createElement(R.ZP,null,n.createElement(d.Main,null,n.createElement(R.bU,null,n.createElement(R.sg,null,n.createElement(W.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},K({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),n.createElement(d.Typography,null,K({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),n.createElement(d.Box,{paddingTop:4},n.createElement(d.Typography,null,K({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},K({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},D=()=>{const{formatMessage:K}=(0,f.useIntl)(),_=(0,i.useQuery)().get("info")||K({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return n.createElement(R.ZP,null,n.createElement(d.Main,null,n.createElement(R.bU,null,n.createElement(R.sg,null,n.createElement(W.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},K({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),n.createElement(d.Typography,null,_),n.createElement(d.Box,{paddingTop:4},n.createElement(d.Typography,null,K({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},K({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var C=t(71893),G=t(27361),ne=t.n(G),le=t(57557),P=t.n(le),ue=t(49656),he=t(11817),V=t(41363),a=t(68070);const S=(0,C.default)(d.Box)`
  text-align: center;
`,O=C.default.a`
  color: ${({theme:K})=>K.colors.primary600};
`,Z=(0,C.default)(d.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,ve=({authType:K,fieldsToDisable:Ze,noSignin:_,onSubmit:Ge,schema:Ce})=>{const Ke=(0,i.useNotification)(),{push:ce}=(0,ue.useHistory)(),[He,Ue]=(0,n.useState)(!1),[te,Xe]=(0,n.useState)(!1),[ye,at]=(0,n.useState)(0),[qe,gt]=(0,n.useState)({}),{trackUsage:rt}=(0,i.useTracking)(),{formatMessage:z}=(0,f.useIntl)(),Be=(0,i.useQuery)().get("registrationToken");return(0,n.useEffect)(()=>{Be&&(async()=>{try{const{data:{data:re}}=await he.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Be}`);re&&gt(re)}catch(re){const pe=ne()(re,["response","data","message"],"An error occurred");Ke({type:"warning",message:pe}),ce(`/auth/oops?info=${encodeURIComponent(pe)}`)}})()},[Be]),n.createElement(R.ZP,null,n.createElement(R.bU,null,n.createElement(I.Formik,{enableReinitialize:!0,initialValues:{firstname:qe.firstname||"",lastname:qe.lastname||"",email:qe.email||"",password:"",confirmPassword:"",registrationToken:Be||void 0,news:!1},onSubmit:async(Oe,re)=>{try{await Ce.validate(Oe,{abortEarly:!1}),ye>0&&K==="register-admin"&&rt("didSubmitWithErrorsFirstAdmin",{count:ye.toString()}),Ge(Be?{userInfo:P()(Oe,["registrationToken"]),registrationToken:Be}:Oe,re)}catch(pe){const xe=(0,i.getYupInnerErrors)(pe);at(ye+1),re.setErrors(xe)}},validateOnChange:!1},({values:Oe,errors:re,handleChange:pe})=>n.createElement(i.Form,{noValidate:!0},n.createElement(d.Main,null,n.createElement(R.sg,null,n.createElement(W.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:1},n.createElement(d.Typography,{as:"h1",variant:"alpha"},z({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),n.createElement(S,{paddingBottom:7},n.createElement(d.Typography,{variant:"epsilon",textColor:"neutral600"},z({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),n.createElement(d.Stack,{spacing:6},n.createElement(d.Grid,{gap:4},n.createElement(d.GridItem,{col:6},n.createElement(d.TextInput,{name:"firstname",required:!0,value:Oe.firstname,error:re.firstname?z(re.firstname):void 0,onChange:pe,label:z({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),n.createElement(d.GridItem,{col:6},n.createElement(d.TextInput,{name:"lastname",value:Oe.lastname,onChange:pe,label:z({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),n.createElement(d.TextInput,{name:"email",disabled:Ze.includes("email"),value:Oe.email,onChange:pe,error:re.email?z(re.email):void 0,required:!0,label:z({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),n.createElement(Z,{name:"password",onChange:pe,value:Oe.password,error:re.password?z(re.password):void 0,endAction:n.createElement(a.Z,{onClick:xe=>{xe.preventDefault(),Ue(Je=>!Je)},label:z(He?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},He?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),hint:z({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:z({id:"global.password",defaultMessage:"Password"}),type:He?"text":"password"}),n.createElement(Z,{name:"confirmPassword",onChange:pe,value:Oe.confirmPassword,error:re.confirmPassword?z(re.confirmPassword):void 0,endAction:n.createElement(a.Z,{onClick:xe=>{xe.preventDefault(),Xe(Je=>!Je)},label:z(te?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},te?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),required:!0,label:z({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:te?"text":"password"}),n.createElement(d.Checkbox,{onValueChange:xe=>{pe({target:{value:xe,name:"news"}})},value:Oe.news,name:"news","aria-label":"news"},z({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:n.createElement(O,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},z({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:n.createElement(O,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},z({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),n.createElement(d.Button,{fullWidth:!0,size:"L",type:"submit"},z({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!_&&n.createElement(d.Box,{paddingTop:4},n.createElement(d.Flex,{justifyContent:"center"},n.createElement(i.Link,{label:"Auth.link.signin",to:"/auth/login"},z({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};ve.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:K=>K.preventDefault()},ve.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};const Ee=ve,ae=(0,C.default)(d.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,Pe=({onSubmit:K,schema:Ze})=>{const[_,Ge]=(0,n.useState)(!1),[Ce,Ke]=(0,n.useState)(!1),{formatMessage:ce}=(0,f.useIntl)();return n.createElement(R.ZP,null,n.createElement(d.Main,null,n.createElement(R.bU,null,n.createElement(I.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:K,validationSchema:Ze,validateOnChange:!1},({values:He,errors:Ue,handleChange:te})=>n.createElement(i.Form,{noValidate:!0},n.createElement(R.sg,null,n.createElement(W.Z,null),n.createElement(d.Box,{paddingTop:6,paddingBottom:7},n.createElement(d.Typography,{as:"h1",variant:"alpha"},ce({id:"global.reset-password",defaultMessage:"Reset password"}))),Ue.errorMessage&&n.createElement(d.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},ce({id:Ue.errorMessage,defaultMessage:"An error occurred"}))),n.createElement(d.Stack,{spacing:6},n.createElement(ae,{name:"password",onChange:te,value:He.password,error:Ue.password?ce({id:Ue.password,defaultMessage:"This field is required."}):void 0,endAction:n.createElement(a.Z,{onClick:Xe=>{Xe.preventDefault(),Ge(ye=>!ye)},label:ce(_?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},_?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),hint:ce({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:ce({id:"global.password",defaultMessage:"Password"}),type:_?"text":"password"}),n.createElement(ae,{name:"confirmPassword",onChange:te,value:He.confirmPassword,error:Ue.confirmPassword?ce({id:Ue.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:n.createElement(a.Z,{onClick:Xe=>{Xe.preventDefault(),Ke(ye=>!ye)},label:ce(_?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ce?n.createElement(V.Eye,null):n.createElement(V.EyeStriked,null)),required:!0,label:ce({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Ce?"text":"password"}),n.createElement(d.Button,{fullwidth:!0,type:"submit"},ce({id:"global.change-password",defaultMessage:"Change password"})))))),n.createElement(d.Flex,{justifyContent:"center"},n.createElement(d.Box,{paddingTop:4},n.createElement(i.Link,{to:"/auth/login"},ce({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};Pe.defaultProps={onSubmit:K=>K.preventDefault()},Pe.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const De=Pe;var nt=function(){return window&&window.strapi&&window.strapi.isEE?t(9442).Z:t(73347).Z}(),ke={"forgot-password":{Component:x,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:e.Ry().shape({email:e.Z_().email(i.translatedErrors.email).required(i.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:v,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:nt,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:e.Ry().shape({email:e.Z_().email(i.translatedErrors.email).required(i.translatedErrors.required),password:e.Z_().required(i.translatedErrors.required),rememberMe:e.Xg().nullable()}),inputsPrefix:""},oops:{Component:D,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:Ee,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:e.Ry().shape({firstname:e.Z_().trim().required(i.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required),registrationToken:e.Z_().required(i.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:Ee,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:e.Ry().shape({firstname:e.Z_().trim().required(i.translatedErrors.required),lastname:e.Z_(),password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),email:e.Z_().email(i.translatedErrors.email).strict().lowercase(i.translatedErrors.lowercase).required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:De,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:e.Ry().shape({password:e.Z_().min(8,i.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(i.translatedErrors.required),confirmPassword:e.Z_().oneOf([e.iH("password"),null],"components.Input.error.password.noMatch").required(i.translatedErrors.required)})}};const ot=ke},87751:(b,E,t)=>{"use strict";t.d(E,{Z:()=>g});var e=t(96486);const n={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null}],read:[{action:"admin::marketplace.read",subject:null}]},settings:{roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var f=function(){return window&&window.strapi&&window.strapi.isEE?t(2199).Z:t(69623).Z}(),m=(0,e.merge)(n,f);const g=m},31424:(b,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>Gs});var e=t(67294),i=t(49656),n=t(28702),f=t(82492),m=t.n(f),g=t(78718),d=t.n(g),I=t(23560),R=t.n(I),W=t(41143),T=t.n(W),x=t(15482),F=t(63871);const j=()=>{const l=[];return{register(s){l.push(s)},delete(s){l.splice(l.indexOf(s),1)},runWaterfall(s,o){return l.reduce((r,c)=>c(r,o),s)},async runWaterfallAsync(s,o){let r=s;for(const c of l)r=await c(r,o);return r},runSeries(...s){return l.map(o=>o(...s))},async runSeriesAsync(...s){const o=[];for(const r of l)o.push(await r(...s));return o},runParallel(...s){return Promise.all(l.map(o=>o(...s)))}}};var D=t(35281);const C=(l,s)=>{let o=D.compose;const r=[];l.forEach(y=>{r.push(y())});const c=(0,D.createStore)(G(s,{}),{},o((0,D.applyMiddleware)(...r)));return c.asyncReducers={},c.injectReducer=(y,A)=>{c.asyncReducers[y]=A,c.replaceReducer(G(s,c.asyncReducers))},c},G=(l,s)=>(0,D.combineReducers)({...l,...s}),ne=C;var le=t(42775),P=t(95489),ue=t(11817),he=t(97132),V=t(45697),a=t.n(V);const S=({component:l,path:s,...o})=>{const{pathname:r,search:c}=(0,i.useLocation)();return e.createElement(i.Route,{path:s,render:y=>P.auth.getToken()!==null?e.createElement(l,{...o,...y}):e.createElement(i.Redirect,{to:{pathname:"/auth/login",search:r!=="/"&&`?redirectTo=${encodeURIComponent(`${r}${c}`)}`}})})};S.propTypes={component:a().any.isRequired,path:a().string.isRequired};const O=(0,e.memo)(S);var Z=t(38683),ve=t(87462),Ee=t(64572),ae=t(15861),Pe=t(70885),De=t(44925),nt=t(64687),ke=t.n(nt),ot=t(68929),K=t.n(ot),Ze=t(27361),_=t.n(Ze),Ge=t(57557),Ce=t.n(Ge);const Ke="GUIDED_TOUR_CURRENT_STEP",ce="GUIDED_TOUR_COMPLETED_STEPS",He="GUIDED_TOUR_SKIPPED",Ue=JSON.parse,te=JSON.stringify,ye={clear(){localStorage.removeItem(Ke),localStorage.removeItem(ce)},addCompletedStep(l){const s=Ue(localStorage.getItem(ce))?.slice()||[];s.includes(l)||(s.push(l),localStorage.setItem(ce,te(s)))},addCurrentStep(l){localStorage.setItem(Ke,te(l))},setSkipped(l){localStorage.setItem(He,te(l))},get(l){return Ue(localStorage.getItem(l))}};var at=t(50592),qe=t(27858);const rt=l=>l;var z=t(18172),Mt=t(96486);const Be={formErrors:{},modifiedData:{},requestError:null},Oe=(l,s)=>(0,z.default)(l,o=>{switch(s.type){case"ON_CHANGE":{(0,Mt.set)(o.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return Be;case"SET_DATA":{o.modifiedData=s.data;break}case"SET_ERRORS":{o.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{o.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return o}});var re=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function pe(l,s){var o=Object.keys(l);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(l);s&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(l,c).enumerable})),o.push.apply(o,r)}return o}function xe(l){for(var s=1;s<arguments.length;s++){var o=arguments[s]!=null?arguments[s]:{};s%2?pe(Object(o),!0).forEach(function(r){(0,Ee.Z)(l,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(o)):pe(Object(o)).forEach(function(r){Object.defineProperty(l,r,Object.getOwnPropertyDescriptor(o,r))})}return l}var Je=function(){return window&&window.strapi&&window.strapi.isEE?t(98837).Z:t(42243).Z}(),it=function(s){var o=s.hasAdmin,r=s.setHasAdmin,c=(0,i.useHistory)(),y=c.push,A=c.location.search,M=(0,at.Z)(),de=M.changeLocale,q=(0,P.useGuidedTour)(),$=q.setSkipped,U=(0,P.useTracking)(),X=U.trackUsage,Q=(0,i.useRouteMatch)("/auth/:authType"),w=Q.params.authType,B=(0,P.useQuery)(),oe=_()(Je,w,{}),je=oe.Component,dt=oe.endPoint,mt=oe.fieldsToDisable,tt=oe.fieldsToOmit,Ct=oe.inputsPrefix,Lt=oe.schema,Ks=(0,De.Z)(oe,re),Hs=(0,e.useReducer)(Oe,Be,rt),ps=(0,Pe.Z)(Hs,2),Nt=ps[0],$s=Nt.formErrors,zs=Nt.modifiedData,Vs=Nt.requestError,St=ps[1],Xs=ue.Z.CancelToken,pt=Xs.source();(0,e.useEffect)(function(){return function(){pt.cancel("Component unmounted")}},[]),(0,e.useEffect)(function(){St({type:"RESET_PROPS"})},[w]);var Qs=function(fe){var Y=fe.target,Re=Y.name,ee=Y.value;St({type:"ON_CHANGE",keys:Re,value:ee})},Ys=function(){var We=(0,ae.Z)(ke().mark(function fe(Y,Re){var ee,Ae,Se,Me;return ke().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(ee=Re.setSubmitting,Ae=Re.setErrors,ee(!0),Se=Ce()(Y,tt),Me="/admin/".concat(dt),w!=="login"){me.next=7;break}return me.next=7,qs(Y,Me,{setSubmitting:ee,setErrors:Ae});case 7:if(!(w==="register"||w==="register-admin")){me.next=10;break}return me.next=10,en(Y,Me,{setSubmitting:ee,setErrors:Ae});case 10:if(w!=="forgot-password"){me.next=13;break}return me.next=13,Js(Se,Me,{setSubmitting:ee,setErrors:Ae});case 13:if(w!=="reset-password"){me.next=16;break}return me.next=16,tn(Se,Me,{setSubmitting:ee,setErrors:Ae});case 16:case"end":return me.stop()}},fe)}));return function(Y,Re){return We.apply(this,arguments)}}(),Js=function(){var We=(0,ae.Z)(ke().mark(function fe(Y,Re,ee){var Ae,Se;return ke().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Ae=ee.setSubmitting,Se=ee.setErrors,J.prev=1,J.next=4,(0,ue.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:Y,cancelToken:pt.token});case 4:y("/auth/forgot-password-success"),J.next=11;break;case 7:J.prev=7,J.t0=J.catch(1),console.error(J.t0),Se({errorMessage:"notification.error"});case 11:return J.prev=11,Ae(!1),J.finish(11);case 14:case"end":return J.stop()}},fe,null,[[1,7,11,14]])}));return function(Y,Re,ee){return We.apply(this,arguments)}}(),qs=function(){var We=(0,ae.Z)(ke().mark(function fe(Y,Re,ee){var Ae,Se,Me,J,me,Fe,Ne;return ke().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return Ae=ee.setSubmitting,Se=ee.setErrors,ie.prev=1,ie.next=4,(0,ue.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:Ce()(Y,tt),cancelToken:pt.token});case 4:Me=ie.sent,J=Me.data.data,me=J.token,Fe=J.user,Fe.preferedLanguage&&de(Fe.preferedLanguage),P.auth.setToken(me,Y.rememberMe),P.auth.setUserInfo(Fe,Y.rememberMe),gs(),ie.next=23;break;case 14:if(ie.prev=14,ie.t0=ie.catch(1),!ie.t0.response){ie.next=23;break}if(Ne=_()(ie.t0,["response","data","error","message"],"Something went wrong"),K()(Ne).toLowerCase()!=="usernotactive"){ie.next=22;break}return y("/auth/oops"),St({type:"RESET_PROPS"}),ie.abrupt("return");case 22:Se({errorMessage:Ne});case 23:return ie.prev=23,Ae(!1),ie.finish(23);case 26:case"end":return ie.stop()}},fe,null,[[1,14,23,26]])}));return function(Y,Re,ee){return We.apply(this,arguments)}}(),en=function(){var We=(0,ae.Z)(ke().mark(function fe(Y,Re,ee){var Ae,Se,Me,J,me,Fe,Ne,st,ie,Te;return ke().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ae=ee.setSubmitting,Se=ee.setErrors,Ie.prev=1,X("willCreateFirstAdmin"),Ie.next=5,(0,ue.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:Ce()(Y,tt),cancelToken:pt.token});case 5:if(Me=Ie.sent,J=Me.data.data,me=J.token,Fe=J.user,P.auth.setToken(me,!1),P.auth.setUserInfo(Fe,!1),Ae(!1),r(!0),Ne=Fe.roles,Ne&&(st=Ne.find(function(sn){var nn=sn.code;return nn==="strapi-super-admin"}),st&&(ye.setSkipped(!1),$(!1),X("didLaunchGuidedtour"))),!(w==="register"&&Y.userInfo.news===!0||w==="register-admin"&&Y.news===!0)){Ie.next=18;break}return y({pathname:"/usecase",search:"?hasAdmin=".concat(o)}),Ie.abrupt("return");case 18:gs(),Ie.next=25;break;case 21:Ie.prev=21,Ie.t0=Ie.catch(1),X("didNotCreateFirstAdmin"),Ie.t0.response&&(ie=Ie.t0.response.data,Te=(0,qe.Z)(ie),Se({apiErrors:Te}));case 25:case"end":return Ie.stop()}},fe,null,[[1,21]])}));return function(Y,Re,ee){return We.apply(this,arguments)}}(),tn=function(){var We=(0,ae.Z)(ke().mark(function fe(Y,Re,ee){var Ae,Se,Me,J,me,Fe,Ne,st;return ke().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Ae=ee.setErrors,Se=ee.setSubmitting,Te.prev=1,Te.next=4,(0,ue.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(Re),data:xe(xe({},Y),{},{resetPasswordToken:B.get("code")}),cancelToken:pt.token});case 4:Me=Te.sent,J=Me.data.data,me=J.token,Fe=J.user,P.auth.setToken(me,!1),P.auth.setUserInfo(Fe,!1),y("/"),Te.next=16;break;case 13:Te.prev=13,Te.t0=Te.catch(1),Te.t0.response&&(Ne=_()(Te.t0,["response","data","message"],"Something went wrong"),st=_()(Te.t0,["response","data","statusCode"],400),St({type:"SET_REQUEST_ERROR",errorMessage:Ne,errorStatus:st}),Ae({errorMessage:Ne}));case 16:return Te.prev=16,Se(!1),Te.finish(16);case 19:case"end":return Te.stop()}},fe,null,[[1,13,16,19]])}));return function(Y,Re,ee){return We.apply(this,arguments)}}(),gs=function(){if(w==="login"){var fe=B.get("redirectTo"),Y=fe?decodeURIComponent(fe):"/";y(Y)}else y("/")};return!Je[w]||o&&w==="register-admin"||P.auth.getToken()?e.createElement(i.Redirect,{to:"/"}):!o&&w!=="register-admin"?e.createElement(i.Redirect,{to:{pathname:"/auth/register-admin",search:A}}):e.createElement(je,(0,ve.Z)({},Ks,{authType:w,fieldsToDisable:mt,formErrors:$s,inputsPrefix:Ct,modifiedData:zs,onChange:Qs,onSubmit:Ys,requestError:Vs,schema:Lt}))};it.defaultProps={hasAdmin:!1},it.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};const Dt=it;var Zt=t(23330),$e=t(71893),Ot=t(80129),bt=t(79690),It=t(36206);const kt=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Gt=(0,$e.default)(n.Typography)`
  text-align: center;
`,ft=()=>{const l=(0,P.useNotification)(),{push:s,location:o}=(0,i.useHistory)(),{formatMessage:r}=(0,he.useIntl)(),[c,y]=(0,e.useState)(),[A,M]=(0,e.useState)(""),{firstname:de,email:q}=P.auth.getUserInfo(),{hasAdmin:$}=(0,Ot.parse)(o?.search,{ignoreQueryPrefix:!0}),U=c==="other",X=Q=>{try{(0,ue.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:q,username:de,firstAdmin:Boolean(!$),persona:{role:Q?void 0:c,otherRole:Q?void 0:A}}}),l({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return e.createElement(It.ZP,null,e.createElement(n.Main,{labelledBy:"usecase-title"},e.createElement(It.bU,null,e.createElement("form",{onSubmit:()=>X(!1)},e.createElement(n.Flex,{direction:"column",paddingBottom:7},e.createElement(bt.Z,null),e.createElement(n.Box,{paddingTop:6,paddingBottom:1,width:(0,P.pxToRem)(250)},e.createElement(Gt,{variant:"alpha",as:"h1",id:"usecase-title"},r({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),e.createElement(n.Stack,{spacing:6},e.createElement(n.Select,{id:"usecase","data-testid":"usecase",label:r({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:y,value:c},kt.map(({intlLabel:Q,value:w})=>e.createElement(n.Option,{key:w,value:w},r(Q)))),U&&e.createElement(n.TextInput,{name:"other",label:r({id:"Usecase.other",defaultMessage:"Other"}),value:A,onChange:Q=>M(Q.target.value),"data-testid":"other"}),e.createElement(n.Button,{type:"submit",size:"L",fullWidth:!0,disabled:!c},r({id:"global.finish",defaultMessage:"Finish"}))))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:4},e.createElement(n.TextButton,{onClick:()=>X(!0)},r({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var ht=t(66716);const $t=async()=>`web-fingerprint-${(await(await ht.ZP.load()).get()).visitorId}`;var Et=t(42982);const Ut=[];var zt=function(){return window&&window.strapi&&window.strapi.isEE?t(35499).Z:t(77981).Z}();const wt=[].concat((0,Et.Z)(zt),(0,Et.Z)(Ut));var yt=t(48474);const Vt=(0,e.lazy)(()=>Promise.all([t.e(1734),t.e(801)]).then(t.bind(t,93858)));function Xt(){const l=(0,P.useNotification)(),{updateProjectSettings:s}=(0,yt.um)(),{formatMessage:o}=(0,he.useIntl)(),[{isLoading:r,hasAdmin:c,uuid:y,deviceId:A},M]=(0,e.useState)({isLoading:!0,hasAdmin:!1}),de=(0,P.useAppInfos)(),{get:q}=(0,P.useFetchClient)(),$=(0,e.useMemo)(()=>(0,Z.WW)(wt.map(({to:B,Component:oe,exact:je})=>(0,Z.ot)(oe,B,je))),[]),[U,X]=(0,e.useState)(null);(0,e.useEffect)(()=>{const B=P.auth.getToken();B&&(async()=>{try{const{data:{token:je}}=await(0,P.request)("/admin/renew-token",{method:"POST",body:{token:B}});P.auth.updateToken(je)}catch{P.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,e.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:oe,uuid:je,menuLogo:dt,authLogo:mt}}}=await ue.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,P.prefixFileUrlWithBackendUrl)(dt),authLogo:(0,P.prefixFileUrlWithBackendUrl)(mt)});const tt=await $t();if(je){const{data:{data:Ct}}=await q("/admin/telemetry-properties",{validateStatus:Lt=>Lt<500});X(Ct);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:tt,eventPropeties:{},userProperties:{environment:de.currentEnvironment},groupProperties:{...Ct,projectId:je}}),headers:{"Content-Type":"application/json"}})}catch{}}M({isLoading:!1,hasAdmin:oe,uuid:je,deviceId:tt})}catch{l({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[l,s]);const Q=B=>M(oe=>({...oe,hasAdmin:B})),w=(0,e.useMemo)(()=>({uuid:y,telemetryProperties:U,deviceId:A}),[y,U,A]);return r?e.createElement(P.LoadingIndicatorPage,null):e.createElement(e.Suspense,{fallback:e.createElement(P.LoadingIndicatorPage,null)},e.createElement(n.SkipToContent,null,o({id:"skipToContent"})),e.createElement(P.TrackingProvider,{value:w},e.createElement(i.Switch,null,$,e.createElement(i.Route,{path:"/auth/:authType",render:B=>e.createElement(Dt,{...B,setHasAdmin:Q,hasAdmin:c}),exact:!0}),e.createElement(O,{path:"/usecase",component:ft}),e.createElement(O,{path:"/",component:Vt}),e.createElement(i.Route,{path:"",component:Zt.default}))))}const Qt=Xt;var Tt=t(61473),jt=t(23724),Bt=t(37424),h=t(47713);const p={menuLogo:null,authLogo:null},L=(l=p,s)=>(0,z.default)(l,o=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(o,s.values);break}default:return o}}),k=({children:l,authLogo:s,menuLogo:o,showReleaseNotification:r,showTutorials:c})=>{const[{menuLogo:y,authLogo:A},M]=(0,e.useReducer)(L,p),de=(0,e.useCallback)(({menuLogo:$,authLogo:U})=>M({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:$||o,authLogo:U||s}}),[s,o]),q=(0,e.useMemo)(()=>({logos:{menu:{custom:y,default:o},auth:{custom:A,default:s}},updateProjectSettings:de,showReleaseNotification:r,showTutorials:c}),[y,o,A,s,de,r,c]);return e.createElement(h._5.Provider,{value:q},l)};k.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};const N=k;var H=t(66913),se=t.n(H),ge=t(93343);const we=({changeLocale:l,children:s,localeNames:o,messages:r})=>e.createElement(ge.Z.Provider,{value:{changeLocale:l,localeNames:o,messages:r}},s);we.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired,messages:a().object.isRequired};const be=we,_e="strapi-admin-language",lt=l=>{const s=window.localStorage.getItem(_e);return{locale:l[s]?s:"en",localeNames:l}},ut={localeNames:{en:"English"},locale:"en"},ct=(l=ut,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:o}=s;return l.localeNames[o]?{...l,locale:o}:l}default:return l}},ze=({children:l,localeNames:s,messages:o})=>{const[{locale:r},c]=(0,e.useReducer)(ct,ut,()=>lt(s));(0,e.useEffect)(()=>{window.localStorage.setItem(_e,r),document.documentElement.setAttribute("lang",r)},[r]);const y=M=>{c({type:"CHANGE_LOCALE",locale:M})},A=se()(o[r],o.en);return e.createElement(he.IntlProvider,{locale:r,defaultLocale:"en",messages:A,textComponent:"span"},e.createElement(be,{changeLocale:y,localeNames:s,messages:A},l))};ze.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};const Le=ze,Ve=(l,s)=>{const o=Object.entries(s),r=o.findIndex(([y])=>y===l);return o.slice(0,r).every(([,y])=>Object.values(y).every(Boolean))},hs=(l,s)=>{const o=l.split("."),r=o[1],c=Object.entries(s[o[0]]),y=c.findIndex(([M])=>M===r);return c.slice(0,y).every(([,M])=>M)},Yt={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Es=(l=Yt,s)=>(0,z.default)(l,o=>{switch(s.type){case"SET_CURRENT_STEP":{o.currentStep=s.step;break}case"SET_STEP_STATE":{const[r,c]=s.currentStep.split(".");o.guidedTourState[r][c]=s.value;break}case"SET_SKIPPED":{o.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{o.isGuidedTourVisible=s.value;break}default:return o}});var ys=t(36968),_t=t.n(ys);const Ts=l=>{const s={...l},o=ye.get(ce),r=ye.get(Ke),c=ye.get(He);if(o&&o.forEach(y=>{const[A,M]=y.split(".");_t()(s,["guidedTourState",A,M],!0)}),r){const[y,A]=r.split(".");_t()(s,["guidedTourState",y,A],!0),ye.addCompletedStep(r),ye.addCurrentStep(null)}return c!==null&&_t()(s,"isSkipped",c),s},Jt=({children:l})=>{const[{currentStep:s,guidedTourState:o,isGuidedTourVisible:r,isSkipped:c},y]=(0,e.useReducer)(Es,Yt,Ts),A=U=>{if(U!==null){const X=_()(o,U),Q=hs(U,o);if(X||c||!Q)return null}return ye.addCurrentStep(U),y({type:"SET_CURRENT_STEP",step:U})},M=U=>{y({type:"SET_GUIDED_TOUR_VISIBILITY",value:U})},de=(U,X)=>{ye.addCompletedStep(U),y({type:"SET_STEP_STATE",currentStep:U,value:X})},q=U=>{const X=o[U];if(X){const Q=Ve(U,o),w=Object.keys(X)[0],B=X[w];if(Q&&!s&&!B)return A(`${U}.${w}`)}return null},$=U=>{ye.setSkipped(U),y({type:"SET_SKIPPED",value:U})};return e.createElement(P.GuidedTourProvider,{guidedTourState:o,currentStep:s,setCurrentStep:A,setGuidedTourVisibility:M,setSkipped:$,setStepState:de,startSection:q,isGuidedTourVisible:r,isSkipped:c},l)};Jt.propTypes={children:a().element.isRequired};const vs=Jt;var qt=t(73935),es=t(41363),ts=t(36182);const Ps=(0,$e.default)(n.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:l})=>l.colors.neutral0};
    opacity: 0.9;
  }
`,Rs=(0,$e.default)(n.Stack)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,P.pxToRem)(160)};
`,ss=(0,$e.default)(n.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:l})=>l.colors.primary600} !important;
    }
  }
`,Pt=document.createElement("div"),As="autoReloadOverlayBlocker";Pt.setAttribute("id",As);const Cs=$e.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,Ls=(0,$e.default)(es.Refresh)`
  animation: ${Cs} 1s infinite linear;
`,ns=({displayedIcon:l,description:s,title:o,isOpen:r})=>{const{formatMessage:c}=(0,he.useIntl)();return(0,e.useEffect)(()=>(document.body.appendChild(Pt),()=>{document.body.removeChild(Pt)}),[]),r?qt.createPortal(e.createElement(Ps,null,e.createElement(Rs,{spacing:6},e.createElement(n.Stack,{spacing:2},e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h1",variant:"alpha"},c(o))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},c(s)))),e.createElement(n.Flex,{justifyContent:"center"},l==="reload"&&e.createElement(ss,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(Ls,{width:(0,P.pxToRem)(36),height:(0,P.pxToRem)(36)})),l==="time"&&e.createElement(ss,{padding:6,background:"primary100",borderColor:"primary200"},e.createElement(es.Clock,{width:(0,P.pxToRem)(40),height:(0,P.pxToRem)(40)}))),e.createElement(n.Flex,{justifyContent:"center"},e.createElement(n.Box,{paddingTop:2},e.createElement(ts.r,{href:"https://docs.strapi.io",isExternal:!0},c({id:"global.documentation",defaultMessage:"Read the documentation"})))))),Pt):null};ns.propTypes={displayedIcon:a().oneOfType([a().string,a().array]).isRequired,description:a().object.isRequired,isOpen:a().bool.isRequired,title:a().object.isRequired};const Ss=ns,os=30,as=({children:l})=>{const[s,o]=(0,e.useState)(!1),[{elapsed:r},c]=(0,e.useState)({elapsed:0,start:0}),[y,A]=(0,e.useState)(void 0),M=(B=void 0)=>{o(!0),A(B),c(oe=>({...oe,start:Date.now()}))},de=()=>{o(!1),c({start:0,elapsed:0}),A(void 0)},q=(0,e.useRef)(M),$=(0,e.useRef)(de);(0,e.useEffect)(()=>{let B=null;return s?B=setInterval(()=>r>os?(clearInterval(B),null):(c(oe=>({...oe,elapsed:Math.round(Date.now()-oe.start)/1e3})),null),1e3):clearInterval(B),()=>{clearInterval(B)}},[s,r]);let U=y?.icon||"reload",X={id:y?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},Q={id:y?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};r>os&&(U="time",X={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},Q={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const w=(0,e.useMemo)(()=>({lockApp:q.current,unlockApp:$.current}),[q,$]);return e.createElement(P.AutoReloadOverlayBockerContext.Provider,{value:w},e.createElement(Ss,{displayedIcon:U,isOpen:s,description:X,title:Q}),l)};as.propTypes={children:a().element.isRequired};const Ms=as,Wt=({dispatch:l,notification:s})=>{const{formatMessage:o}=(0,he.useIntl)(),{message:r,link:c,type:y,id:A,onClose:M,timeout:de,blockTransition:q,title:$}=s,U=B=>typeof B=="string"?B:o(B,B.values),X=(0,e.useCallback)(()=>{M&&M(),l({type:"HIDE_NOTIFICATION",id:A})},[A]);(0,e.useEffect)(()=>{let B;return q||(B=setTimeout(()=>{X()},de||2500)),()=>clearTimeout(B)},[q,X,de]);let Q,w;return y==="info"?(Q="default",w=o({id:"notification.default.title",defaultMessage:"Information:"})):y==="warning"?(Q="danger",w=o({id:"notification.warning.title",defaultMessage:"Warning:"})):y==="softWarning"?(Q="warning",w=o({id:"notification.warning.title",defaultMessage:"Warning:"})):(Q="success",w=o({id:"notification.success.title",defaultMessage:"Success:"})),$&&(w=typeof $=="string"?$:U({id:$?.id||$,defaultMessage:$?.defaultMessage||$?.id||$,values:$?.values})),e.createElement(n.Alert,{action:c?e.createElement(ts.r,{href:c.url,isExternal:!0},o({id:c.label?.id||c.label,defaultMessage:c.label?.defaultMessage||c.label?.id||c.label})):void 0,onClose:X,closeLabel:"Close",title:w,variant:Q},U({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r,values:r?.values}))};Wt.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},Wt.propTypes={dispatch:a().func.isRequired,notification:a().shape({id:a().number,message:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]),link:a().shape({target:a().string,url:a().string.isRequired,label:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]).isRequired}),type:a().string,onClose:a().func,timeout:a().number,blockTransition:a().bool,title:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})])})};const Ds=Wt,rs={notifId:0,notifications:[]},Os=(l=rs,s)=>(0,z.default)(l,o=>{switch(s.type){case"SHOW_NOTIFICATION":{o.notifications.push({id:l.notifId,type:_()(s,["config","type"],"success"),message:_()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:_()(s,["config","link"],null),timeout:_()(s,["config","timeout"],2500),blockTransition:_()(s,["config","blockTransition"],!1),onClose:_()(s,["config","onClose"],null),title:_()(s,["config","title"],null)}),o.notifId=l.notifId+1;break}case"HIDE_NOTIFICATION":{const r=l.notifications.findIndex(c=>c.id===s.id);r!==-1&&o.notifications.splice(r,1);break}default:return o}}),is=({children:l})=>{const[{notifications:s},o]=(0,e.useReducer)(Os,rs),r=c=>{o({type:"SHOW_NOTIFICATION",config:c})};return e.createElement(P.NotificationsProvider,{toggleNotification:r},e.createElement(n.Stack,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(c=>e.createElement(Ds,{key:c.id,dispatch:o,notification:c}))),l)};is.propTypes={children:a().element.isRequired};const bs=is,Rt=document.createElement("div");Rt.setAttribute("id","overlayBlocker");const Is=$e.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,ls=({isOpen:l})=>((0,e.useEffect)(()=>(document.body.appendChild(Rt),()=>{document.body.removeChild(Rt)}),[]),l?qt.createPortal(e.createElement(Is,null),Rt):null);ls.propTypes={isOpen:a().bool.isRequired};const us=({children:l})=>{const[s,o]=(0,e.useState)(!1),r=()=>{o(!0)},c=()=>{o(!1)};return e.createElement(P.OverlayBlockerContext.Provider,{value:{lockApp:r,unlockApp:c}},l,e.createElement(ls,{isOpen:s}))};us.propTypes={children:a().node.isRequired};const ks=us,Ft="STRAPI_THEME",Us=()=>{const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(Ft);return s||localStorage.setItem(Ft,l),s||l},cs=({children:l,themes:s})=>{const[o,r]=(0,e.useState)(Us()),c=(0,e.useCallback)(A=>{r(A),localStorage.setItem(Ft,A)},[r]),y=(0,e.useMemo)(()=>({currentTheme:o,onChangeTheme:c,themes:s}),[o,c,s]);return e.createElement(h.Rj.Provider,{value:y},l)};cs.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const ws=cs,js=$e.createGlobalStyle`
  body {
    background: ${({theme:l})=>l.colors.neutral100};
  }
`,ds=({children:l})=>{const{currentTheme:s,themes:o}=(0,yt.M1)();return e.createElement(n.ThemeProvider,{theme:o[s]||o.light},l,e.createElement(js,null))};ds.propTypes={children:a().element.isRequired};const Bs=ds,xs=new jt.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),ms=({authLogo:l,children:s,components:o,customFields:r,fields:c,getAdminInjectedComponents:y,getPlugin:A,localeNames:M,menu:de,menuLogo:q,messages:$,plugins:U,runHookParallel:X,runHookSeries:Q,runHookWaterfall:w,settings:B,showReleaseNotification:oe,showTutorials:je,store:dt,themes:mt})=>e.createElement(ws,{themes:mt},e.createElement(Bs,null,e.createElement(jt.QueryClientProvider,{client:xs},e.createElement(Bt.Provider,{store:dt},e.createElement(h.ux.Provider,{value:{getAdminInjectedComponents:y}},e.createElement(N,{authLogo:l,menuLogo:q,showReleaseNotification:oe,showTutorials:je},e.createElement(P.StrapiAppProvider,{getPlugin:A,menu:de,plugins:U,runHookParallel:X,runHookWaterfall:w,runHookSeries:Q,settings:B},e.createElement(P.LibraryProvider,{components:o,fields:c},e.createElement(P.CustomFieldsProvider,{customFields:r},e.createElement(Le,{messages:$,localeNames:M},e.createElement(Ms,null,e.createElement(ks,null,e.createElement(vs,null,e.createElement(bs,null,s))))))))))))));ms.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const _s=ms,Ws={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var At=t(80660);const Fs={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},Ns="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";class Zs{constructor({adminConfig:s,appPlugins:o,library:r,middlewares:c,reducers:y}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:Tt,head:{favicon:Ns},locales:["en"],menuLogo:Tt,notifications:{releases:!0},themes:{light:n.lightTheme,dark:n.darkTheme},translations:{},tutorials:!0},this.appPlugins=o||{},this.library=r,this.middlewares=c,this.plugins={},this.reducers=y,this.translations={},this.hooksDict={},this.admin={injectionZones:Fs},this.customFields=le.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(o=>this.library.components.add(o)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const o=JSON.stringify(s);T()(s.to,`link.to should be defined for ${o}`),T()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),T()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${o}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(o=>this.library.fields.add(o)):this.library.fields.add(s)};addMenuLink=s=>{const o=JSON.stringify(s);T()(s.to,`link.to should be defined for ${o}`),T()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${o}`),T()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),T()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(o=>{this.middlewares.add(o)})};addReducers=s=>{Object.keys(s).forEach(o=>{this.reducers.add(o,s[o])})};addSettingsLink=(s,o)=>{T()(this.settings[s],"The section does not exist");const r=JSON.stringify(o);T()(o.id,`link.id should be defined for ${r}`),T()(o.intlLabel?.id&&o.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${r}`),T()(o.to,`link.to should be defined for ${r}`),T()(o.Component&&typeof o.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(o)};addSettingsLinks=(s,o)=>{T()(this.settings[s],"The section does not exist"),T()(Array.isArray(o),"TypeError expected links to be an array"),o.forEach(r=>{this.addSettingsLink(s,r)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const o=this.appPlugins[s].bootstrap;o&&o({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),R()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(At.No),this.createHook(At.LK),this.createHook(At.dV),this.createHook(At.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,o=this.customConfigurations.theme.light;!s&&!o&&(console.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),m()(this.configurations.themes.light,this.customConfigurations.theme)),o&&m()(this.configurations.themes.light,o),s&&m()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=j()};createSettingSection=(s,o)=>{T()(s.id,"section.id should be defined"),T()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),T()(Array.isArray(o),"TypeError expected links to be an array"),T()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},o.forEach(r=>{this.addSettingsLink(s.id,r)})};createStore=()=>ne(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,o,r)=>{try{return this.admin.injectionZones[s][o][r]||[]}catch(c){return console.error("Cannot get injected component",c),c}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,o,r)=>{T()(this.admin.injectionZones.contentManager[s]?.[o],`The ${s} ${o} zone is not defined in the content manager`),T()(r,"A Component must be provided"),this.admin.injectionZones.contentManager[s][o].push(r)};injectAdminComponent=(s,o,r)=>{T()(this.admin.injectionZones.admin[s]?.[o],`The ${s} ${o} zone is not defined in the admin`),T()(r,"A Component must be provided"),this.admin.injectionZones.admin[s][o].push(r)};async loadAdminTrads(){const s=this.configurations.locales.map(c=>t(95423)(`./${c}.json`).then(({default:y})=>({data:y,locale:c})).catch(()=>({data:null,locale:c})));return(await Promise.all(s)).reduce((c,y)=>(y.data&&(c[y.locale]=y.data),c),{})}async loadTrads(){const s=await this.loadAdminTrads(),o=Object.keys(this.appPlugins).map(A=>{const M=this.appPlugins[A].registerTrads;return M?M({locales:this.configurations.locales}):null}).filter(A=>A),c=(await Promise.all(o)).reduce((A,M)=>{const de=M.reduce((q,$)=>(q[$.locale]=$.data,q),{});return Object.keys(de).forEach(q=>{A[q]={...A[q],...de[q]}}),A},{}),y=this.configurations.locales.reduce((A,M)=>(A[M]={...s[M],...c[M]||{},...this.customConfigurations?.translations?.[M]},A),{});return this.configurations.translations=y,Promise.resolve()}registerHook=(s,o)=>{T()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(o)};registerPlugin=s=>{const o=(0,le.Sy)(s);this.plugins[o.pluginId]=o};runHookSeries=(s,o=!1)=>o?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,o,r=!1,c)=>r?this.hooksDict[s].runWaterfallAsync(o,c):this.hooksDict[s].runWaterfall(o,c);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),o=d()(Ws,this.configurations.locales||[]),{components:{components:r},fields:{fields:c}}=this.library;return e.createElement(_s,{authLogo:this.configurations.authLogo,components:r,fields:c,customFields:this.customFields,localeNames:o,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(y,A,M=!1)=>this.runHookWaterfall(y,A,M,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},e.createElement(e.Fragment,null,e.createElement(x.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(_e)||"en"}}),e.createElement(i.BrowserRouter,{basename:F.Z},e.createElement(Qt,{store:s}))))}}const Gs=({adminConfig:l={},appPlugins:s,library:o,middlewares:r,reducers:c})=>new Zs({adminConfig:l,appPlugins:s,library:o,middlewares:r,reducers:c})},93343:(b,E,t)=>{"use strict";t.d(E,{Z:()=>n});var e=t(67294);const n=(0,e.createContext)()},50592:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(67294),i=t(93343);const f=()=>{const{changeLocale:m,localeNames:g,messages:d}=(0,e.useContext)(i.Z);return{changeLocale:m,localeNames:g,messages:d}}},79690:(b,E,t)=>{"use strict";t.d(E,{Z:()=>g});var e=t(67294),i=t(71893),n=t(48474);const f=i.default.img`
  height: ${72/16}rem;
`,g=()=>{const{logos:{auth:d}}=(0,n.um)();return e.createElement(f,{src:d?.custom??d.default,"aria-hidden":!0,alt:""})}},47713:(b,E,t)=>{"use strict";t.d(E,{ux:()=>n,_5:()=>m,$l:()=>d,Rj:()=>R});var e=t(67294);const n=(0,e.createContext)({}),m=(0,e.createContext)({}),d=(0,e.createContext)({}),R=(0,e.createContext)({})},63871:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i="/admin/".replace(window.location.origin,"")},80660:(b,E,t)=>{"use strict";t.d(E,{Eo:()=>n,LK:()=>i,No:()=>e,dV:()=>f});const e="Admin/CM/pages/ListView/inject-column-in-table",i="Admin/CM/pages/App/mutate-collection-types-links",n="Admin/CM/pages/EditView/mutate-edit-view-layout",f="Admin/CM/pages/App/mutate-single-types-links"},48474:(b,E,t)=>{"use strict";t.d(E,{um:()=>f,U_:()=>D,Dq:()=>P,H9:()=>ot,bP:()=>T,$_:()=>wt,rW:()=>Bt,bF:()=>Ue,G4:()=>Ut,Te:()=>Kt,M1:()=>Tt});var e=t(67294),i=t(47713);const f=()=>(0,e.useContext)(i._5);var m=t(95489),g=t(18172);const d={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},R=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_MODELS":{u.collectionTypes=d.collectionTypes,u.singleTypes=d.singleTypes,u.components=d.components,u.isLoading=!0;break}case"GET_MODELS_ERROR":{u.collectionTypes=d.collectionTypes,u.singleTypes=d.singleTypes,u.components=d.components,u.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const L=k=>p.contentTypes.filter(N=>N.isDisplayed&&N.kind===k);u.isLoading=!1,u.collectionTypes=L("collectionType"),u.singleTypes=L("singleType"),u.components=p.components;break}default:return u}}),T=()=>{const h=(0,m.useNotification)(),[p,u]=(0,e.useReducer)(R,d);(0,e.useEffect)(()=>{L()},[]);const L=async()=>{u({type:"GET_MODELS"});try{const[{data:k},{data:N}]=await Promise.all(["components","content-types"].map(H=>(0,m.request)(`/content-manager/${H}`,{method:"GET"})));u({type:"GET_MODELS_SUCCEDED",contentTypes:N,components:k})}catch{u({type:"GET_MODELS_ERROR"}),h({type:"warning",message:{id:"notification.error"}})}};return{...p,getData:L}},x={data:{},error:null,isLoading:!0},v=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA":{u.isLoading=!0,u.data={},u.error=null;break}case"GET_DATA_SUCCEEDED":{u.data=p.data,u.isLoading=!1,u.error=null;break}case"GET_DATA_ERROR":{u.isLoading=!1,u.error=p.error;break}default:return u}}),D=h=>{const[{data:p,error:u,isLoading:L},k]=(0,e.useReducer)(v,x);return(0,e.useEffect)(()=>{(async()=>{k({type:"GET_DATA"});const{data:H}=await(0,m.request)("/admin/permissions",{method:"GET",params:{role:h}});k({type:"GET_DATA_SUCCEEDED",data:H})})()},[h]),{data:p,error:u,isLoading:L}},C={role:{},permissions:{},isLoading:!0},ne=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA_SUCCEEDED":{u.role=p.role,u.permissions=p.permissions,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{u.role.name=p.name,u.role.description=p.description;break}default:return u}}),P=h=>{const p=(0,m.useNotification)(),[u,L]=(0,e.useReducer)(ne,C);(0,e.useEffect)(()=>{h?k(h):L({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[h]);const k=async H=>{try{const[{data:se},{data:ge}]=await Promise.all([`roles/${H}`,`roles/${H}/permissions`].map(we=>(0,m.request)(`/admin/${we}`,{method:"GET"})));L({type:"GET_DATA_SUCCEEDED",role:se,permissions:ge})}catch(se){console.error(se),L({type:"GET_DATA_ERROR"}),p({type:"warning",message:{id:"notification.error"}})}},N=(0,e.useCallback)(H=>{L({type:"ON_SUBMIT_SUCCEEDED",...H})},[]);return{...u,onSubmitSucceeded:N}},he=(h,p)=>p.map(({permissions:u})=>(0,m.hasPermissions)(h,u)),a=async(h,p)=>{const u=he(h,p),L=await Promise.all(u);return p.filter((N,H)=>L[H])};var S=t(50361),O=t.n(S);const ve=async(h,p,u)=>{const L=he(h,p),k=await Promise.all(L),N=p.filter((ge,we)=>k[we]),H=N.findIndex(ge=>ge.to==="/settings");if(H===-1)return[];const se=O()(N);return se[H].notificationsCount=u?1:0,se};var Ee=t(41363),ae=t(87751);const Pe={generalSectionLinks:[{icon:Ee.Puzzle,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:ae.Z.marketplace.main},{icon:Ee.ShoppingCart,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:ae.Z.marketplace.main},{icon:Ee.Cog,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},nt=(h=Pe,p)=>(0,g.default)(h,u=>{switch(p.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:L,authorizedPluginSectionLinks:k}=p.data;u.generalSectionLinks=L,u.pluginsSectionLinks=k;break}case"UNSET_IS_LOADING":{u.isLoading=!1;break}default:return u}}),ot=()=>{const[h,p]=(0,e.useReducer)(nt,Pe),{allPermissions:u}=(0,m.useRBACProvider)(),{shouldUpdateStrapi:L}=(0,m.useAppInfos)(),{menu:k}=(0,m.useStrapiApp)(),N=(0,e.useRef)(h.generalSectionLinks),H=(0,e.useRef)(L),se=async(we=u)=>{const Qe=await a(we,k),_e=await ve(we,N.current,H.current);p({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:_e,authorizedPluginSectionLinks:Qe}}),p({type:"UNSET_IS_LOADING"})},ge=(0,e.useRef)(se);return(0,e.useEffect)(()=>{ge.current(u)},[u,p]),h};var K=t(27361),Ze=t.n(K);const Ge=(h,p)=>({...h,isLoading:p}),Ce={roles:[],isLoading:!0},ce=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA":{u.isLoading=!0,u.roles=[];break}case"GET_DATA_SUCCEEDED":{u.roles=p.data,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}default:return u}}),Ue=(h=!0)=>{const p=(0,m.useNotification)(),[{roles:u,isLoading:L},k]=(0,e.useReducer)(ce,Ce,()=>Ge(Ce,h));(0,e.useEffect)(()=>{h&&N()},[h]);const N=(0,e.useCallback)(async()=>{const H=(0,m.getFetchClient)();try{k({type:"GET_DATA"});const{data:{data:se}}=await H.get("/admin/roles");k({type:"GET_DATA_SUCCEEDED",data:se})}catch(se){const ge=Ze()(se,["response","payload","message"],"An error occured");k({type:"GET_DATA_ERROR"}),ge!=="Forbidden"&&p({type:"warning",message:ge})}},[p]);return{roles:u,isLoading:L,getData:N}};var te=t(96486);const Xe={menu:[],isLoading:!0},at=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"CHECK_PERMISSIONS_SUCCEEDED":{p.data.forEach(L=>{L.hasPermission&&(0,te.set)(u,["menu",...L.path.split("."),"isDisplayed"],L.hasPermission)}),u.menu.forEach((L,k)=>{u.menu[k].links=L.links.filter(N=>N.isDisplayed===!0)}),u.isLoading=!1;break}default:return u}});var qe=t(57557),gt=t.n(qe),rt=t(89734),z=t.n(rt);const Be=h=>z()(h,p=>p.id),re=h=>h.map(p=>{const u=p.links.map(L=>({...L,isDisplayed:!1}));return{...p,links:u}});var pe=t(42982);const Je=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:ae.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:ae.Z.settings.users.main}];var it=function(){return window&&window.strapi&&window.strapi.isEE?t(95662).Z:t(40928).Z}();const Dt=[].concat((0,pe.Z)(it),(0,pe.Z)(Je)),$e=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:ae.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:ae.Z.settings["api-tokens"].main},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens",isDisplayed:!1,permissions:ae.Z.settings["transfer-tokens"].main}];var Ot=function(){return window&&window.strapi&&window.strapi.isEE?t(8353).Z:t(88506).Z}();const bt=[].concat((0,pe.Z)($e),(0,pe.Z)(Ot)),kt=(h,{settings:p,shouldUpdateStrapi:u})=>{const L=p.global.links,k=Be([...L,...bt]).map(se=>({...se,hasNotification:se.id==="000-application-infos"&&u})),N=Object.values(gt()(p,"global")),H=[{...p.global,links:k},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:Dt},...N];return{...h,menu:re(H)}},Kt=(h=!1)=>{const{allPermissions:p}=(0,m.useRBACProvider)(),{shouldUpdateStrapi:u}=(0,m.useAppInfos)(),{settings:L}=(0,m.useStrapiApp)(),[{isLoading:k,menu:N},H]=(0,e.useReducer)(at,Xe,()=>kt(Xe,{settings:L,shouldUpdateStrapi:u}));return(0,e.useEffect)(()=>{h||(async()=>{const ge=async(_e,et)=>({hasPermission:await(0,m.hasPermissions)(p,_e),path:et}),be=(_e=>_e.reduce((et,lt,ut)=>{const xt=ct=>ct.map((ze,Le)=>ge(ct[Le].permissions,`${ut}.links.${Le}`));return[...et,...xt(lt.links)]},[]))(N),Qe=await Promise.all(be);H({type:"CHECK_PERMISSIONS_SUCCEEDED",data:Qe})})()},[p,h]),{isLoading:k,menu:N}};var ft=t(38683);const ht={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Ht=(h,p)=>(0,g.default)(h,u=>{switch(p.type){case"GET_DATA_SUCCEEDED":{u.isLoading=!1,u.showHeaderLoader=!1,u.initialData=(0,te.pick)(p.data,h.fieldsToPick),u.modifiedData=(0,te.pick)(p.data,h.fieldsToPick);break}case"ON_CANCEL":{u.modifiedData=h.initialData,u.formErrors={};break}case"ON_CHANGE":{p.inputType==="password"&&!p.value?(0,te.unset)(u.modifiedData,p.keys.split(".")):p.keys.includes("username")&&!p.value?(0,te.set)(u.modifiedData,p.keys.split("."),null):(0,te.set)(u.modifiedData,p.keys.split("."),p.value);break}case"ON_SUBMIT":{u.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{u.initialData=(0,te.pick)(p.data,h.fieldsToPick),u.modifiedData=(0,te.pick)(p.data,h.fieldsToPick),u.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{u.formErrors=p.errors,u.showHeaderButtonLoader=!1;break}default:return u}}),Et=(h,p)=>({...h,fieldsToPick:p}),Ut=(h,p,u,L)=>{const[{formErrors:k,initialData:N,isLoading:H,modifiedData:se,showHeaderButtonLoader:ge,showHeaderLoader:we},be]=(0,e.useReducer)(Ht,ht,()=>Et(ht,L)),Qe=(0,m.useNotification)(),{lockApp:_e,unlockApp:et}=(0,m.useOverlayBlocker)();return(0,e.useEffect)(()=>{h&&(async()=>{try{const{data:Le}=await(0,m.request)(h,{method:"GET"});be({type:"GET_DATA_SUCCEEDED",data:Le,fieldsToPick:L})}catch(Le){console.error(Le.response),Qe({type:"warning",message:{id:"notification.error"}})}})()},[h]),[{formErrors:k,initialData:N,isLoading:H,modifiedData:se,showHeaderButtonLoader:ge,showHeaderLoader:we},be,{handleCancel:()=>{be({type:"ON_CANCEL"})},handleChange:({target:{name:ze,value:Le,type:Ye}})=>{be({type:"ON_CHANGE",inputType:Ye,keys:ze,value:Le})},handleSubmit:async ze=>{ze.preventDefault();const Le=await(0,ft.R6)(se,p);if(be({type:"SET_ERRORS",errors:Le||{}}),!Le)try{_e(),be({type:"ON_SUBMIT"});const Ye=(0,te.omit)(se,["confirmPassword","registrationToken"]);Ye.roles&&(Ye.roles=Ye.roles.map(vt=>vt.id));const{data:Ve}=await(0,m.request)(h,{method:"PUT",body:Ye});u(Ve),be({type:"ON_SUBMIT_SUCCEEDED",data:Ve}),Qe({type:"success",message:{id:"notification.success.saved"}})}catch(Ye){const Ve=(0,te.get)(Ye,"response.payload",{data:{}});(0,te.has)(Ve,"data")&&typeof Ve.data=="string"?Qe({type:"warning",message:Ve.data}):Qe({type:"warning",message:Ve.message});const vt=(0,ft.Iz)(Ve);be({type:"SET_ERRORS",errors:vt})}finally{et()}},setField:(ze,Le)=>{be({type:"ON_CHANGE",keys:ze,value:Le})}}]},wt=()=>(0,e.useContext)(i.$l),yt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),Vt=()=>{const{latestStrapiReleaseTag:h,shouldUpdateStrapi:p}=useAppInfos(),u=useNotification();return useEffect(()=>{p&&yt&&u({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${h}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[h,p,u]),null},Xt=null,Tt=()=>(0,e.useContext)(i.Rj),Bt=(h,p,u)=>{const[L,k]=(0,e.useState)(!1),N=(0,m.useNotification)(),{post:H}=(0,m.useFetchClient)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:ge}}}=await H(`${h}${p}/regenerate`);k(!1),u(ge)}catch(ge){k(!1),N({type:"warning",message:(0,te.get)(ge,"response.data.message","notification.error")})}},isLoadingConfirmation:L}}},40928:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e=[]},88506:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e=[]},36206:(b,E,t)=>{"use strict";t.d(E,{sg:()=>T,bU:()=>x,ZP:()=>v});var e=t(67294),i=t(71893),n=t(45697),f=t.n(n),m=t(28702),g=t(97132),d=t(50592);const R=()=>{const{changeLocale:j,localeNames:D}=(0,d.Z)(),{locale:C}=(0,g.useIntl)();return e.createElement(m.SimpleMenu,{label:D[C]},Object.keys(D).map(G=>e.createElement(m.MenuItem,{onClick:()=>j(G),key:G},D[G])))},W=(0,i.default)(m.Box)`
  margin: 0 auto;
  width: 552px;
`,T=(0,i.default)(m.Flex)`
  flex-direction: column;
`,x=({children:j})=>e.createElement(W,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},j);x.propTypes={children:f().node.isRequired};const F=({children:j})=>e.createElement("div",null,e.createElement(m.Flex,{as:"header",justifyContent:"flex-end"},e.createElement(m.Box,{paddingTop:6,paddingRight:8},e.createElement(R,null))),e.createElement(m.Box,{paddingTop:2,paddingBottom:11},j));F.propTypes={children:f().node.isRequired};const v=F},77981:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i=[]},68070:(b,E,t)=>{"use strict";t.d(E,{Z:()=>m});var e=t(71893),i=t(28702),n=t.n(i);const m=(0,e.default)(i.FieldAction)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:g})=>g.colors.neutral600};
    }
  }
`},29773:(b,E,t)=>{"use strict";t.d(E,{Z:()=>G});var e=t(67294),i=t(95489),n=t.n(i),f=t(41363),m=t.n(f),g=t(28702),d=t.n(g),I=t(45697),R=t.n(I),W=t(97132),T=t(71893),x=t(80831),F=t(36206),v=t(79690),j=t(68070);const D=(0,T.default)(g.TextInput)`
  ::-ms-reveal {
    display: none;
  }
`,C=({onSubmit:ne,schema:le,children:P})=>{const[ue,he]=(0,e.useState)(!1),{formatMessage:V}=(0,W.useIntl)();return e.createElement(g.Main,null,e.createElement(F.bU,null,e.createElement(x.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:ne,validationSchema:le,validateOnChange:!1},({values:a,errors:S,handleChange:O})=>e.createElement(i.Form,{noValidate:!0},e.createElement(F.sg,null,e.createElement(v.Z,null),e.createElement(g.Box,{paddingTop:6,paddingBottom:1},e.createElement(g.Typography,{variant:"alpha",as:"h1"},V({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),e.createElement(g.Box,{paddingBottom:7},e.createElement(g.Typography,{variant:"epsilon",textColor:"neutral600"},V({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),S.errorMessage&&e.createElement(g.Typography,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},S.errorMessage)),e.createElement(g.Stack,{spacing:6},e.createElement(g.TextInput,{error:S.email?V({id:S.email,defaultMessage:"This value is required."}):"",value:a.email,onChange:O,label:V({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:V({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),e.createElement(D,{error:S.password?V({id:S.password,defaultMessage:"This value is required."}):"",onChange:O,value:a.password,label:V({id:"global.password",defaultMessage:"Password"}),name:"password",type:ue?"text":"password",endAction:e.createElement(j.Z,{onClick:Z=>{Z.stopPropagation(),he(ve=>!ve)},label:V(ue?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ue?e.createElement(f.Eye,null):e.createElement(f.EyeStriked,null)),required:!0}),e.createElement(g.Checkbox,{onValueChange:Z=>{O({target:{value:Z,name:"rememberMe"}})},value:a.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},V({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),e.createElement(g.Button,{fullWidth:!0,type:"submit"},V({id:"Auth.form.button.login",defaultMessage:"Login"}))))),P),e.createElement(g.Flex,{justifyContent:"center"},e.createElement(g.Box,{paddingTop:4},e.createElement(i.Link,{to:"/auth/forgot-password"},V({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};C.defaultProps={children:null,onSubmit(){}},C.propTypes={children:R().node,onSubmit:R().func,schema:R().shape({type:R().string.isRequired}).isRequired};const G=C},73347:(b,E,t)=>{"use strict";t.d(E,{Z:()=>d});var e=t(67294),i=t(45697),n=t.n(i),f=t(29773),m=t(36206);const g=I=>e.createElement(m.ZP,null,e.createElement(f.Z,{...I}));g.defaultProps={onSubmit:I=>I.preventDefault()},g.propTypes={onSubmit:n().func};const d=g},23330:(b,E,t)=>{"use strict";t.r(E),t.d(E,{default:()=>W});var e=t(67294),i=t(95489),n=t.n(i),f=t(28702),m=t.n(f),g=t(41363),d=t.n(g),I=t(97132);const W=()=>{const{formatMessage:T}=(0,I.useIntl)();return(0,i.useFocusWhenNavigate)(),e.createElement(f.Main,{labelledBy:"title"},e.createElement(f.HeaderLayout,{id:"title",title:T({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),e.createElement(f.ContentLayout,null,e.createElement(f.EmptyStateLayout,{action:e.createElement(i.LinkButton,{variant:"secondary",endIcon:e.createElement(g.ArrowRight,null),to:"/"},T({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:T({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:e.createElement(g.EmptyPictures,{width:"10rem"}),shadow:"tableShadow"})))}},69623:(b,E,t)=>{"use strict";t.d(E,{Z:()=>e});const e={}},27858:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i=({data:n})=>{try{return Object.keys(n).reduce((f,m)=>{const g=n[m][0];return f[m]={id:g,defaultMessage:g},f},{})}catch{return{}}}},38683:(b,E,t)=>{"use strict";t.d(E,{R6:()=>n,ot:()=>W,Iz:()=>T.Z,Pp:()=>he,IF:()=>ue,Qy:()=>a,WW:()=>D});var e=t(95489);const n=async(S,O)=>{let Z=null;try{await O.validate(S,{abortEarly:!1})}catch(ve){Z=(0,e.getYupInnerErrors)(ve)}return Z};var f=t(67294),m=t(45697),g=t.n(m),d=t(49656);const I=({loadComponent:S})=>{const[O,Z]=(0,f.useState)(null);return(0,f.useEffect)(()=>{(async()=>{try{const Ee=await S();Z(()=>Ee.default)}catch(Ee){console.log(Ee)}})()},[S]),O?f.createElement(O,null):f.createElement(e.LoadingIndicatorPage,null)},R=(S,O,Z)=>f.createElement(d.Route,{render:()=>f.createElement(I,{loadComponent:S}),key:O,path:O,exact:Z||!1});I.propTypes={loadComponent:g().func.isRequired};const W=R;var T=t(27858),x=t(96486);const F=S=>{const O=get(S,["options","timestamps"]);let Z=Array.isArray(O)?O:[];const Ee=[...["id","_id"],...Z,"publishedAt"],ae=get(S,["attributes"],{});return Object.keys(ae).reduce((Pe,De)=>(Ee.includes(De)||Pe.push({...ae[De],attributeName:De}),Pe),[])},v=null,D=S=>S.filter((O,Z,ve)=>ve.findIndex(Ee=>Ee.key===O.key)===Z),C=S=>sortBy(S,O=>O.name),G=null,ne=S=>Array.from(new Set(Object.entries(S).reduce((O,Z)=>{const ve=Ee=>Ee.reduce((ae,Pe)=>{let De=ae;return Pe.actions&&(De=[...De,...Pe.actions]),typeof Pe=="object"&&!Pe.actions&&(De=[...De,...Object.keys(Pe)]),De},[]);return[...O,...ve([...Object.values(Z[1].attributes||{}),get(Z[1],"contentTypeActions",{})])]},[]))),le=null,ue=S=>`/admin/${S}`,he=(S,O="")=>[S,O].filter(Z=>Z).join(" "),V={bufferToHex(S){return[...new Uint8Array(S)].map(O=>O.toString(16).padStart(2,"0")).join("")},async digestMessage(S){const O=new TextEncoder().encode(S),Z=await crypto.subtle.digest("SHA-256",O);return this.bufferToHex(Z)}};async function a(S){if(!S)return null;try{return await V.digestMessage(S.email)}catch{return null}}},90594:(b,E,t)=>{"use strict";t.d(E,{pl:()=>R,q5:()=>T.Z});var e=t(67294),i=t(95489),n=t(38683),f=t(18172);const m={data:[],isLoading:!0},d=(x,F)=>(0,f.default)(x,v=>{switch(F.type){case"GET_DATA_SUCCEEDED":{v.data=F.data,v.isLoading=!1;break}case"GET_DATA_ERROR":{v.isLoading=!1;break}default:return v}}),R=({ssoEnabled:x})=>{const[F,v]=(0,e.useReducer)(d,m),j=(0,i.useNotification)();(0,e.useEffect)(()=>{D()},[]);const D=async()=>{try{if(!x){v({type:"GET_DATA_SUCCEEDED",data:[]});return}const C=(0,n.IF)("providers"),G=await(0,i.request)(C,{method:"GET"});v({type:"GET_DATA_SUCCEEDED",data:G})}catch(C){console.error(C),v({type:"GET_DATA_ERROR"}),j({type:"warning",message:{id:"notification.error"}})}};return F};var W=t(94018),T=t(96510)},94018:(b,E,t)=>{"use strict";t.d(E,{Z:()=>F});var e=t(67294),i=t(97132),n=t(75551),f=t(95489),m=t.n(f),g=t(14293),d=t.n(g),I=t(96510);const R="strapi-notification-seat-limit",W="https://cloud.strapi.io/profile/billing",T="https://strapi.io/billing/request-seats",F=()=>{const{formatMessage:v}=(0,i.useIntl)();let{license:j}=(0,I.Z)();const D=(0,f.useNotification)(),{pathname:C}=(0,n.useLocation)();(0,e.useEffect)(()=>{if(!j?.data)return;const{enforcementUserCount:G,permittedSeats:ne,licenseLimitStatus:le,isHostedOnStrapiCloud:P}=j?.data??{},ue=!d()(ne)&&!window.sessionStorage.getItem(`${R}-${C}`)&&(le==="AT_LIMIT"||le==="OVER_LIMIT");let he;le==="OVER_LIMIT"?he="warning":le==="AT_LIMIT"&&(he="softWarning"),ue&&D({type:he,message:v({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:le}),title:v({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:le,enforcementUserCount:G,permittedSeats:ne}),link:{url:P?W:T,label:v({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:P})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${R}-${C}`,!0)}})},[D,j.data,C,v])}},96510:(b,E,t)=>{"use strict";t.d(E,{Z:()=>d});var e=t(95489),i=t.n(e),n=t(23724),f=t.n(n),m=t(87751);const d=()=>{const I=(0,e.useRBAC)(m.Z.settings.users),{isLoading:R,allowedActions:{canRead:W,canCreate:T,canUpdate:x,canDelete:F}}=I,v=W&&T&&x&&F,{get:j}=(0,e.useFetchClient)(),D=async()=>{const{data:{data:G}}=await j("/admin/license-limit-information");return G};return{license:(0,n.useQuery)(["ee","license-limit-info"],D,{enabled:!R&&v})}}},95662:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(87751);const f=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:e.Z.settings.auditLogs.main}]:[]]},8353:(b,E,t)=>{"use strict";t.d(E,{Z:()=>f});var e=t(87751);const f=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:e.Z.settings.sso.main}]:[]]},35499:(b,E,t)=>{"use strict";t.d(E,{Z:()=>T});var e=t(67294),i=t(49656),n=t(97132),f=t(36808),m=t.n(f),g=t(95489),d=t(38683);const R=()=>{const{params:{authResponse:x}}=(0,i.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:F}=(0,n.useIntl)(),{push:v}=(0,i.useHistory)(),j=(0,e.useRef)(F);let D=(0,e.useCallback)(()=>{v(`/auth/oops?info=${encodeURIComponent(j.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[v]);const C=(0,e.useCallback)(async()=>{try{const G=m().get("jwtToken");if(g.auth.clearAppStorage(),G){g.auth.setToken(G,!0);const ne=(0,d.IF)("users/me"),{data:le}=await(0,g.request)(ne,{method:"GET"});g.auth.setUserInfo(le,!0),m().remove("jwtToken"),v("/auth/login")}}catch{D()}},[v,D]);return(0,e.useEffect)(()=>{x==="error"&&D(),x==="success"&&C()},[x,C,D]),e.createElement(g.LoadingIndicatorPage,null)},T=[{Component:()=>({default:R}),to:"/auth/login/:authResponse",exact:!0}]},9442:(b,E,t)=>{"use strict";t.d(E,{Z:()=>v});var e=t(67294),i=t(45697),n=t.n(i),f=t(71893),m=t(28702),g=t.n(m),d=t(97132),I=t(29773),R=t(90594),W=t(36206),T=t(51780);const x=(0,f.default)(m.Divider)`
  flex: 1;
`,F=j=>{const D=strapi.features.isEnabled(strapi.features.SSO),{isLoading:C,data:G}=(0,R.pl)({ssoEnabled:D}),{formatMessage:ne}=(0,d.useIntl)();return!D||!C&&G.length===0?e.createElement(W.ZP,null,e.createElement(I.Z,{...j})):e.createElement(W.ZP,null,e.createElement(I.Z,{...j},e.createElement(m.Box,{paddingTop:7},e.createElement(m.Stack,{spacing:7},e.createElement(m.Flex,null,e.createElement(x,null),e.createElement(m.Box,{paddingLeft:3,paddingRight:3},e.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},ne({id:"Auth.login.sso.divider"}))),e.createElement(x,null)),e.createElement(T.Z,{providers:G,displayAllProviders:!1})))))};F.defaultProps={onSubmit:j=>j.preventDefault(),requestError:null},F.propTypes={formErrors:n().object.isRequired,modifiedData:n().object.isRequired,onChange:n().func.isRequired,onSubmit:n().func,requestError:n().object};const v=F},51780:(b,E,t)=>{"use strict";t.d(E,{Z:()=>F});var e=t(67294),i=t(45697),n=t.n(i),f=t(28702),m=t.n(f),g=t(71893),d=t(97132),I=t(49656);const R=g.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:v})=>v.colors.neutral150};
  border-radius: ${({theme:v})=>v.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:v})=>v.colors.neutral600};
`,W=(0,g.default)(f.Flex)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:v})=>v.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:v})=>v.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:v})=>v.spaces[2]};
  }
`,T=({provider:v})=>e.createElement(f.Tooltip,{label:v.displayName},e.createElement(R,{href:`${strapi.backendURL}/admin/connect/${v.uid}`},v.icon?e.createElement("img",{src:v.icon,"aria-hidden":!0,alt:"",height:"32px"}):e.createElement(f.Typography,null,v.displayName)));T.propTypes={provider:n().shape({icon:n().string,displayName:n().string.isRequired,uid:n().string.isRequired}).isRequired};const x=({providers:v,displayAllProviders:j})=>{const{formatMessage:D}=(0,d.useIntl)();return j?e.createElement(f.Grid,{gap:4},v.map(C=>e.createElement(f.GridItem,{key:C.uid,col:4},e.createElement(T,{provider:C})))):v.length>2&&!j?e.createElement(f.Grid,{gap:4},v.slice(0,2).map(C=>e.createElement(f.GridItem,{key:C.uid,col:4},e.createElement(T,{provider:C}))),e.createElement(f.GridItem,{col:4},e.createElement(f.Tooltip,{label:D({id:"global.see-more"})},e.createElement(R,{as:I.Link,to:"/auth/providers"},e.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):e.createElement(W,{justifyContent:"center"},v.map(C=>e.createElement(T,{key:C.uid,provider:C})))};x.defaultProps={displayAllProviders:!0},x.propTypes={providers:n().arrayOf(n().object).isRequired,displayAllProviders:n().bool};const F=x},98837:(b,E,t)=>{"use strict";t.d(E,{Z:()=>D});var e=t(67294),i=t(49656),n=t(71893),f=t(95489),m=t(28702),g=t(97132),d=t(90594),I=t(36206),R=t(51780),W=t(79690);const T=(0,n.default)(m.Divider)`
  flex: 1;
`,F=()=>{const C=strapi.features.isEnabled(strapi.features.SSO),{push:G}=(0,i.useHistory)(),{formatMessage:ne}=(0,g.useIntl)(),{isLoading:le,data:P}=(0,d.pl)({ssoEnabled:C}),ue=()=>{G("/auth/login")};return!C||!le&&P.length===0?e.createElement(i.Redirect,{to:"/auth/login"}):e.createElement(I.ZP,null,e.createElement(m.Main,null,e.createElement(I.bU,null,e.createElement(I.sg,null,e.createElement(W.Z,null),e.createElement(m.Box,{paddingTop:6,paddingBottom:1},e.createElement(m.Typography,{as:"h1",variant:"alpha"},ne({id:"Auth.form.welcome.title"}))),e.createElement(m.Box,{paddingBottom:7},e.createElement(m.Typography,{variant:"epsilon",textColor:"neutral600"},ne({id:"Auth.login.sso.subtitle"})))),e.createElement(m.Stack,{spacing:7},le?e.createElement(m.Flex,{justifyContent:"center"},e.createElement(m.Loader,null,ne({id:"Auth.login.sso.loading"}))):e.createElement(R.Z,{providers:P}),e.createElement(m.Flex,null,e.createElement(T,null),e.createElement(m.Box,{paddingLeft:3,paddingRight:3},e.createElement(m.Typography,{variant:"sigma",textColor:"neutral600"},ne({id:"or"}))),e.createElement(T,null)),e.createElement(m.Button,{fullWidth:!0,size:"L",onClick:ue},ne({id:"Auth.form.button.login.strapi"})))),e.createElement(m.Flex,{justifyContent:"center"},e.createElement(m.Box,{paddingTop:4},e.createElement(f.Link,{to:"/auth/forgot-password"},e.createElement(m.Typography,{variant:"pi"},ne({id:"Auth.link.forgot-password"})))))))};var v=t(42243);const D={...v.Z,providers:{Component:F,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},2199:(b,E,t)=>{"use strict";t.d(E,{Z:()=>i});const i={settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},61473:(b,E,t)=>{"use strict";b.exports=t.p+"70674f63fc3904c20de0.svg"}}]);
